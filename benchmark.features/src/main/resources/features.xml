<?xml version="1.0" encoding="UTF-8"?>

<features xmlns="http://karaf.apache.org/xmlns/features/v1.0.0">

    <feature name="benchmark-consumer-sax" version="${project.version}">
        <bundle>mvn:${project.groupId}/benchmark.common/${project.version}</bundle>
        <bundle start="false">mvn:${project.groupId}/benchmark.consumer/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.consumer.logic.sax/${project.version}</bundle>
        <configfile finalname="/etc/benchmark.consumer.cfg">
            mvn:${project.groupId}/benchmark.features/${project.version}/cfg/benchmark.consumer
        </configfile>
    </feature>

    <feature name="benchmark-consumer-dom" version="${project.version}">
        <bundle>mvn:${project.groupId}/benchmark.common/${project.version}</bundle>
        <bundle start="false">mvn:${project.groupId}/benchmark.consumer/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.consumer.logic.dom/${project.version}</bundle>
        <configfile finalname="/etc/benchmark.consumer.cfg">
            mvn:${project.groupId}/benchmark.features/${project.version}/cfg/benchmark.consumer
        </configfile>
    </feature>

    <feature name="benchmark-consumer-jms-dom" version="${project.version}">
        <feature>activemq</feature>
        <bundle>mvn:${project.groupId}/benchmark.common/${project.version}</bundle>
        <bundle start="false">mvn:${project.groupId}/benchmark.consumer.jms/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.consumer.logic.dom/${project.version}</bundle>
        <configfile finalname="/etc/benchmark.consumer.cfg">
            mvn:${project.groupId}/benchmark.features/${project.version}/cfg/benchmark.consumer
        </configfile>
    </feature>

    <feature name="benchmark-consumer-locator-dom" version="${project.version}">
        <bundle>mvn:${project.groupId}/benchmark.common/${project.version}</bundle>
        <bundle start="false">mvn:${project.groupId}/benchmark.consumer.locator/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.consumer.logic.dom/${project.version}</bundle>
        <configfile finalname="/etc/benchmark.consumer.cfg">
            mvn:${project.groupId}/benchmark.features/${project.version}/cfg/benchmark.consumer
        </configfile>
    </feature>

    <feature name="benchmark-consumer-sam-dom" version="${project.version}">
        <bundle>mvn:${project.groupId}/benchmark.common/${project.version}</bundle>
        <bundle start="false">mvn:${project.groupId}/benchmark.consumer.sam/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.consumer.logic.dom/${project.version}</bundle>
        <configfile finalname="/etc/benchmark.consumer.cfg">
            mvn:${project.groupId}/benchmark.features/${project.version}/cfg/benchmark.consumer
        </configfile>
    </feature>

    <feature name="benchmark-provider" version="${project.version}">
        <bundle>mvn:${project.groupId}/benchmark.common/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider.logic/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider.commands/${project.version}</bundle>
        <configfile finalname="/etc/benchmark.provider.cfg">
            mvn:${project.groupId}/benchmark.features/${project.version}/cfg/benchmark.provider
        </configfile>
    </feature>

    <feature name="benchmark-provider-jms" version="${project.version}">
        <feature>activemq</feature>
        <bundle>mvn:${project.groupId}/benchmark.common/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider.logic/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider.jms/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider.commands/${project.version}</bundle>
        <configfile finalname="/etc/benchmark.provider.cfg">
            mvn:${project.groupId}/benchmark.features/${project.version}/cfg/benchmark.provider
        </configfile>
        <configfile finalname="/etc/benchmark.provider.jms.cfg">
            mvn:${project.groupId}/benchmark.features/${project.version}/cfg/benchmark.provider.jms
        </configfile>
    </feature>

    <feature name="benchmark-provider-locator" version="${project.version}">
        <bundle>mvn:${project.groupId}/benchmark.common/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider.logic/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider.locator/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider.commands/${project.version}</bundle>
        <configfile finalname="/etc/benchmark.provider.cfg">
            mvn:${project.groupId}/benchmark.features/${project.version}/cfg/benchmark.provider
        </configfile>
    </feature>

    <feature name="benchmark-provider-sam" version="${project.version}">
        <bundle>mvn:${project.groupId}/benchmark.common/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider.logic/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider.sam/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider.commands/${project.version}</bundle>
        <configfile finalname="/etc/benchmark.provider.cfg">
            mvn:${project.groupId}/benchmark.features/${project.version}/cfg/benchmark.provider
        </configfile>
    </feature>

    <feature name="benchmark-provider-jpa" version="${project.version}">
        <feature>jndi</feature>
        <feature version="[1,2)">jpa</feature>
        <feature>eclipselink</feature>
        <bundle>mvn:org.apache.felix/org.apache.felix.coordinator/1.0.0</bundle>
        <bundle>mvn:org.apache.aries.transaction/org.apache.aries.transaction.blueprint/1.1.1</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.postgresql/9.2-1003-jdbc4_1</bundle>
        <bundle>mvn:${project.groupId}/benchmark.datasource/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.common/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider.logic.jpa.model/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider.logic.jpa/${project.version}</bundle>
        <bundle>mvn:${project.groupId}/benchmark.provider.commands/${project.version}</bundle>
        <configfile finalname="/etc/benchmark.provider.cfg">
            mvn:${project.groupId}/benchmark.features/${project.version}/cfg/benchmark.provider
        </configfile>
        <configfile finalname="/etc/benchmark.provider.logic.jpa.cfg">
            mvn:${project.groupId}/benchmark.features/${project.version}/cfg/benchmark.provider.logic.jpa
        </configfile>
        <configfile finalname="/etc/benchmark.datasource.cfg">
            mvn:${project.groupId}/benchmark.features/${project.version}/cfg/benchmark.datasource
        </configfile>
    </feature>
</features>
